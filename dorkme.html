<script>
const allDorks = {
  google: [
    { name: "example 1", dork: "" },
    { name: "example 2", dork: "" },
    { name: "example 3", dork: "" },
    { name: "example 4", dork: "" },
    { name: "example 5", dork: "" },
    { name: "example 6", dork: "" },
    { name: "example 7", dork: "" },
    { name: "example 8", dork: "" },
    { name: "example 9", dork: "" },
    { name: "example 10", dork: "" }
  ],
  vuln: [
    { name: "example 1", dork: "" },
    { name: "example 2", dork: "" },
    { name: "example 3", dork: "" },
    { name: "example 4", dork: "" },
    { name: "example 5", dork: "" },
    { name: "example 6", dork: "" },
    { name: "example 7", dork: "" },
    { name: "example 8", dork: "" },
    { name: "example 9", dork: "" },
    { name: "example 10", dork: "" }
  ],
  fileupload: [
    { name: "Select file", dork: 'site:example.com "Select File"' },
    { name: "Browse file", dork: 'site:example.com "Browse"' },
    { name: "Drag and drop file", dork: 'site:example.com "Drag and drop your file"' },
    { name: "Attach files", dork: 'site:example.com "Attach files"' },
    { name: "Select files 2", dork: 'site:example.com "Select files"' },
    { name: "File upload", dork: 'site:example.com "File upload"' },
    { name: "Upload your file", dork: 'site:example.com "Upload your file"' },
    { name: "Submit file", dork: 'site:example.com "Submit File"' },
    { name: "Upload Documents", dork: 'site:example.com "Upload Documents"' },
    { name: "Upload Image", dork: 'site:example.com "Upload Image"' },
    { name: "Drop files", dork: 'site:example.com "Drop files here to upload"' },
    { name: "choose files", dork: 'site:example.com "Choose files to upload"' },
    { name: "Add File", dork: 'site:example.com "Add File"' },
    { name: "Upload PDF", dork: 'site:example.com "Upload PDF"' },
    { name: "Upload Video", dork: 'site:example.com "Upload Video"' },
    { name: "Upload Photo", dork: 'site:example.com "Upload Photo"' },
    { name: "Import File", dork: 'site:example.com "Import File"' },
    { name: "Upload Resume", dork: 'site:example.com "Upload Resume"' },
    { name: "Upload files", dork: 'site:example.com "Upload files"' },
    { name: "Upload and Submit", dork: 'site:example.com "Upload and Submit"' }
  ]
};

const domainInput = document.getElementById('domain-input');
const engineSelect = document.getElementById('engine-select');
const dorksContainer = document.getElementById('dorks');

function openDork(dork, btn) {
  const domain = domainInput.value.trim();
  if (!domain) {
    alert('يرجى إدخال دومين أولاً');
    return;
  }
  const searchDork = dork
    .replace(/example\.com/gi, domain)
    .replace(/target\.com/gi, domain);
  const url = `https://www.google.com/search?q=${encodeURIComponent(searchDork)}`;
  window.open(url, '_blank');

  // أضف علامة صح عند الزر اللي انضغط
  btn.textContent = "✔ " + btn.textContent;
  btn.disabled = true; // حتى ما ينضغط أكثر من مرة
}

function buildDorkButtons() {
  dorksContainer.innerHTML = '';

  const selectedEngine = engineSelect.value;
  let filteredDorks = allDorks[selectedEngine] || [];

  const categoryDiv = document.createElement('div');
  categoryDiv.className = 'category';

  const title = document.createElement('h2');
  if (selectedEngine === 'google') title.textContent = "Google Dorks";
  if (selectedEngine === 'vuln') title.textContent = "Vuln Dorks";
  if (selectedEngine === 'fileupload') title.textContent = "File Upload Dorks";
  categoryDiv.appendChild(title);

  filteredDorks.forEach(dorkItem => {
    const btn = document.createElement('button');
    btn.className = 'dork-btn';
    btn.textContent = dorkItem.name;
    btn.title = dorkItem.dork || "فارغ - اضف دork هنا";
    btn.onclick = () => { if (dorkItem.dork) openDork(dorkItem.dork, btn); };
    categoryDiv.appendChild(btn);
  });

  dorksContainer.appendChild(categoryDiv);
}

engineSelect.addEventListener('change', buildDorkButtons);
window.onload = () => buildDorkButtons();
</script>
